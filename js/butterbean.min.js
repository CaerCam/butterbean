!function(e){if("undefined"!=typeof butterbean_data){console.log(butterbean_data);var t={managers:{},sections:{},controls:{}},n=Backbone.Model.extend({defaults:{name:"",type:"",sections:{},controls:{}}}),a=Backbone.Model.extend({defaults:{name:"",type:"",label:"",description:"",icon:"",manager:""}}),r=Backbone.Model.extend({defaults:{name:"",type:"",label:"",description:"",icon:"",value:"",choices:{},attr:"",manager:"",section:"",setting:""}}),i=Backbone.Collection.extend({model:n}),s=Backbone.View.extend({collection:null,render:function(){return jQuery(this.el).empty(),this.collection.forEach(function(e){var t=new o({model:e,el:"#butterbean-ui-"+e.attributes.name+" .inside"});t.render()}),this}}),o=Backbone.View.extend({initialize:function(){var e=this.model.attributes.type;"undefined"==typeof t.managers[e]&&(t.managers[e]=wp.template("butterbean-manager-"+e)),this.template=t.managers[e]},render:function(){this.$el.append(this.template(this.model.toJSON())),_.each(this.model.attributes.sections,function(t){var n=new a(t);e("#butterbean-ui-"+n.attributes.manager+" .butterbean-nav").append(u(n.attributes));var r=new c({model:n,el:"#butterbean-ui-"+n.attributes.manager+" .butterbean-content"});r.render()}),_.each(this.model.attributes.controls,function(e){var t=new r(e),n=new l({model:t,el:"#butterbean-"+t.attributes.manager+"-section-"+t.attributes.section});n.render()})}}),c=Backbone.View.extend({initialize:function(){var e=this.model.attributes.type;"undefined"==typeof t.sections[e]&&(t.sections[e]=wp.template("butterbean-section-"+e)),this.template=t.sections[e]},render:function(){this.$el.append(this.template(this.model.toJSON()))}}),l=Backbone.View.extend({initialize:function(){var e=this.model.attributes.type;"undefined"==typeof t.controls[e]&&(t.controls[e]=wp.template("butterbean-control-"+e)),this.template=t.controls[e]},render:function(){this.$el.append(this.template(this.model.toJSON()))}}),u=wp.template("butterbean-nav"),b=new i;_.each(butterbean_data.managers,function(t){b.add(new n(t)),e("#butterbean-ui-"+t.name).addClass("butterbean-ui")});var d=new s({collection:b});d.render(),e(".butterbean-ui .hndle").addClass("butterbean-title"),e(".butterbean-ui .butterbean-description").addClass("description"),e(".butterbean-section").hide(),e(".butterbean-section:first-of-type").show(),e(".butterbean-nav :first-child").attr("aria-selected","true"),e(".butterbean-title").append(' <span class="butterbean-which-tab" />'),e(".butterbean-which-tab").each(function(){var t=e(this).parents(".butterbean-ui").find(".butterbean-nav :first-child a").text();e(this).text(t)}),e(".butterbean-nav li a").click(function(t){t.preventDefault();var n=e(this).parents(".butterbean-ui");e(n).find(".butterbean-section").hide(),e(n).find(e(this).attr("href")).show(),e(n).find(".butterbean-nav li").attr("aria-selected","false"),e(this).parent().attr("aria-selected","true"),e(n).find(".butterbean-which-tab").text(e(this).text())})}}(jQuery);
!function(e){var t={managers:{},sections:{},controls:{}},a={managers:{},sections:{},controls:{}},n={managers:{},sections:{},controls:{}},r={managers:{},sections:{},controls:{}},i=Backbone.Model.extend({}),o=i.extend({}),s=i.extend({}),u=i.extend({}),c=Backbone.Collection.extend({model:o}),l=Backbone.Collection.extend({model:s}),b=Backbone.Collection.extend({model:u}),d=Backbone.View.extend({initialize:function(e){this.template=e.template,this.render()},render:function(){return this.$el.append(this.template(this.model.attributes)),this}}),p=d.extend({}),y=d.extend({}),m=d.extend({});if(a.managers=new c,"undefined"!=typeof butterbean_data){var h=wp.template("butterbean-nav");_.each(butterbean_data.managers,function(i){var c="#"+i.name;"undefined"==typeof r.managers[i.type]&&(r.managers[i.type]=wp.template("butterbean-manager-"+i.type)),t.managers[i.name]=new o(i),a.managers.add(t.managers[i.name]),n.managers[i.name]=new p({model:t.managers[i.name],el:c,template:r.managers[i.type]}),a.sections[i.name]=new l,e(c).addClass("butterbean-manager"),_.each(i.sections,function(o){e(c+" .butterbean-nav").append(h(o)),"undefined"==typeof r.sections[o.type]&&(r.sections[o.type]=wp.template("butterbean-section-"+o.type)),t.sections[o.name]=new s(o),a.sections[i.name].add(t.sections[o.name]),n.sections[o.name]=new y({model:t.sections[o.name],el:c+" .butterbean-content",template:r.sections[o.type]}),a.controls[i.name+"-"+o.name]=new b}),_.each(i.controls,function(e){"undefined"==typeof r.controls[e.type]&&(r.controls[e.type]=wp.template("butterbean-control-"+e.type)),t.controls[e.name]=new u(e),a.controls[e.manager+"-"+e.section].add(t.controls[e.name]),n.controls[e.name]=new m({model:t.controls[e.name],el:c+" #butterbean-"+e.manager+"-section-"+e.section,template:r.controls[e.type]})})})}e(".butterbean-manager .hndle").addClass("butterbean-title"),e(".butterbean-ui .butterbean-description").addClass("description"),e(".butterbean-section").hide(),e(".butterbean-section:first-of-type").show(),e(".butterbean-nav :first-child").attr("aria-selected","true"),e(".butterbean-title").append(' <span class="butterbean-which-tab" />'),e(".butterbean-which-tab").each(function(){var t=e(this).parents(".butterbean-manager").find(".butterbean-nav :first-child a").text();e(this).text(t)}),e(".butterbean-nav li a").click(function(t){t.preventDefault();var a=e(this).parents(".butterbean-manager");e(a).find(".butterbean-section").hide(),e(a).find(e(this).attr("href")).show(),e(a).find(".butterbean-nav li").attr("aria-selected","false"),e(this).parent().attr("aria-selected","true"),e(a).find(".butterbean-which-tab").text(e(this).text())})}(jQuery);
!function(e){var t={},a={},r={},t={},a={},r={},n={},i={},o={},s={},u={},c={},l={},b={},d={},p=Backbone.Model.extend({}),y=p.extend({}),m=p.extend({}),h=p.extend({}),f=Backbone.Collection.extend({model:y}),g=Backbone.Collection.extend({model:m}),j=Backbone.Collection.extend({model:h}),Q=Backbone.View.extend({initialize:function(e){this.template=e.template,this.render()},render:function(){return this.$el.append(this.template(this.model.attributes)),this}}),w=Q.extend({}),v=Q.extend({});if(Q.extend({}),a=new f,"undefined"!=typeof butterbean_data){var k=wp.template("butterbean-nav");_.each(butterbean_data.managers,function(p){var h="#"+p.name;"undefined"==typeof n[p.type]&&(n[p.type]=wp.template("butterbean-manager-"+p.type)),t[p.name]=new y(p),a.add(t[p.name]),r[p.name]=new w({model:t[p.name],el:h,template:n[p.type]}),o[p.name]=new g,e(h).addClass("butterbean-manager"),_.each(p.sections,function(t){e(h+" .butterbean-nav").append(k(t)),"undefined"==typeof u[t.type]&&(u[t.type]=wp.template("butterbean-section-"+t.type)),i[t.name]=new m(t),o[p.name].add(i[t.name]),s[t.name]=new v({model:i[t.name],el:h+" .butterbean-content",template:u[t.type]}),l[p.name+"-"+t.name]=new j}),_.each(p.controls,function(e){"undefined"==typeof d[e.type]&&(d[e.type]=wp.template("butterbean-control-"+e.type)),c[e.name]=new m(e),l[e.manager+"-"+e.section].add(c[e.name]),b[e.name]=new v({model:c[e.name],el:h+" #butterbean-"+e.manager+"-section-"+e.section,template:d[e.type]})})})}e(".butterbean-manager .hndle").addClass("butterbean-title"),e(".butterbean-ui .butterbean-description").addClass("description"),e(".butterbean-section").hide(),e(".butterbean-section:first-of-type").show(),e(".butterbean-nav :first-child").attr("aria-selected","true"),e(".butterbean-title").append(' <span class="butterbean-which-tab" />'),e(".butterbean-which-tab").each(function(){var t=e(this).parents(".butterbean-manager").find(".butterbean-nav :first-child a").text();e(this).text(t)}),e(".butterbean-nav li a").click(function(t){t.preventDefault();var a=e(this).parents(".butterbean-manager");e(a).find(".butterbean-section").hide(),e(a).find(e(this).attr("href")).show(),e(a).find(".butterbean-nav li").attr("aria-selected","false"),e(this).parent().attr("aria-selected","true"),e(a).find(".butterbean-which-tab").text(e(this).text())})}(jQuery);